<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
    crossorigin="anonymous"></script>

  <!-- TAILWIND -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- ICONOS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">

  <!-- CSS -->
  <link rel="stylesheet" href="/css/estilosAdmin.css">

  <title>Document</title>
</head>

<body>
  <div class="offcanvas offcanvas-start" data-bs-scroll="true" tabindex="-1" id="offcanvasWithBothOptions"
    aria-labelledby="offcanvasWithBothOptionsLabel">
    <div class="offcanvas-header justify-content-between">
      <img class="imgLogo" src="/img/WhatsApp Image 2024-03-22 at 11.40.37 AM.jpeg" alt="">
      <button type="button" class=" me-3 " data-bs-dismiss="offcanvas" aria-label="Close">
        <i class="bi bi-x-lg fw-bolder"></i>
      </button>


    </div>

    <div class="offcanvas-body">
      <nav class="nav">
        <ul class="nav nav-pills flex-column">
          <li class="nav-item">
            <a class="nav-link active" aria-current="page" href="/admin//Admistrador">Subir Certificado</a>
          </li>
          <!-- <li class="nav-item">
            <a class="nav-link" href="#">Link</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">Link</a>
          </li> 
          <li class="nav-item">
            <a class="nav-link disabled" aria-disabled="true">Disabled</a>
          </li>-->
          <!-- <li>
            <form action="/admin/logout" method="post" id="logout-form">
              <button type="submit" class="btn btn-link text-black">Cerrar sesión</button>
            </form>
          </li> -->

        </ul>
      </nav>
    </div>
  </div>
  <nav class="navbar colorNav">
    <div class="container-fluid ms-5">
      <button class="btn bg-white d-flex align-items-center " type="button" data-bs-toggle="offcanvas"
        data-bs-target="#offcanvasWithBothOptions" aria-controls="offcanvasWithBothOptions">
        <i class="bi bi-text-left iconoMenu me-2"></i>
        <img class="logo" src="/img/log.png" alt="">

      </button>

      <div class="me-5 d-flex align-items-center">
        <h2 class="text-white mb-0 text-2xl">Bienvenido</h2>
        <div class="contentUser d-flex align-items-center justify-content-center ms-4">
          <i class="bi bi-person-fill-gear iconoUser"></i>
        </div>
      </div>
    </div>
  </nav>
  <div id="alert-container"></div>
  <section class="conten_panel d-flex justify-content-center mt-3 ">
    <div class="contenedor d-flex  justify-center">
      <div class="column conten_columna">

        <div class=" col d-flex justify-content-center align-items-center me-5 pt-4 pb-4">
          <div class="flex flex-col items-center justify-center "><!-- h-screen -->
            <div class="w-full max-w-md bg-white rounded-lg shadow-md p-6">
              <h1 class="fs-2 text-center mb-3">Subir certificado</h1>
              <form action="/admin/image/single" method="post" enctype="multipart/form-data">
                <!-- enctype="multipart/form-data" -->

                <div class="row d-flex justify-content-center">
                  <select
                    class="TipoDocumento col-3 me-2 bg-gray-100 text-gray-900 border-0 rounded-md p-2 mb-4 focus:bg-gray-200 focus:outline-none focus:ring-1 focus:ring-blue-500 transition ease-in-out duration-150"
                    id="TipoDocumento" name="TipoDocumento">
                    <option value="DNI">DNI</option>
                    <option value="CE">CE</option>
                    <option value="PASAPORTE">PASAPORTE</option>
                    <option value="RUC">RUC</option>
                  </select>
                  <input type="text"
                    class="Documento col-8 bg-gray-100 text-gray-900 border-0 rounded-md p-2 mb-4 focus:bg-gray-200 focus:outline-none focus:ring-1 focus:ring-blue-500 transition ease-in-out duration-150"
                    id="Documento" name="Documento" placeholder="Numero de documento">
                </div>

                <input type="text"
                  class=" NombreCompleto bg-gray-100 text-gray-900 border-0 rounded-md p-2 mb-4 focus:bg-gray-200 focus:outline-none focus:ring-1 focus:ring-blue-500 transition ease-in-out duration-150"
                  id="NombreCompleto" name="NombreCompleto" placeholder="Nombre completo">

                <input type="text"
                  class=" Nacionalidad bg-gray-100 text-gray-900 border-0 rounded-md p-2 mb-4 focus:bg-gray-200 focus:outline-none focus:ring-1 focus:ring-blue-500 transition ease-in-out duration-150"
                  id="Nacionalidad" name="Nacionalidad" placeholder="Nacionalidad">

                <input type="text"
                  class="nCertificado bg-gray-100 text-gray-900 border-0 rounded-md p-2 mb-4 focus:bg-gray-200 focus:outline-none focus:ring-1 focus:ring-blue-500 transition ease-in-out duration-150"
                  id="nCertificado" name="nCertificado" placeholder="Nombre del Certificado">

                <input type="text"
                  class="Codigo bg-gray-100 text-gray-900 border-0 rounded-md p-2 mb-4 focus:bg-gray-200 focus:outline-none focus:ring-1 focus:ring-blue-500 transition ease-in-out duration-150"
                  id="Codigo" name="Codigo" placeholder="Código">

                <div class=" d-flex justify-content-center">
                  <div class="row justify-content-center">
                    <label for="" class="ms-3">Fecha de Emisión:</label>
                    <input type="date"
                      class="FechaEmicion col-10 bg-gray-100 text-gray-900 border-0 rounded-md p-2 mb-4 focus:bg-gray-200 focus:outline-none focus:ring-1 focus:ring-blue-500 transition ease-in-out duration-150"
                      id="FechaEmicion" name="FechaEmicion">
                  </div>
                  <div class="row justify-content-center">
                    <label for="" class="ms-3">Fecha de Vencimiento:</label>
                    <input type="date"
                      class="col-10 bg-gray-100 text-gray-900 border-0 rounded-md p-2 mb-4 focus:bg-gray-200 focus:outline-none focus:ring-1 focus:ring-blue-500 transition ease-in-out duration-150"
                      id="FechaVencimiento" name="FechaVencimiento">

                  </div>
                </div>

                <input type="file" name="imagenCertificado"
                  class="bg-gray-100 text-gray-900 border-0 rounded-md p-2 mb-4 focus:bg-gray-200 focus:outline-none focus:ring-1 focus:ring-blue-500 transition ease-in-out duration-150">

                <button type="submit"
                  class="bg-gradient-to-r from-indigo-500 to-blue-500 text-white font-bold py-2 px-4 rounded-md mt-4 hover:bg-indigo-600 hover:to-blue-600 transition ease-in-out duration-150">SUBIR</button>
              </form>
            </div>
          </div>

        </div>

        <div class="conten_table d-flex justify-content-center align-items-center flex-column">
          <table class="table table-bordered tabla_admin ">
            <thead class="table-dark text-center fw-bolder">
              <tr>
                <td>Id</td>
                <td>Tipo documento</td>
                <td>Documento</td>
                <td>Nombre</td>
                <td>Nacionalidad</td>
                <td>Certificado</td>
                <td>Codigo</td>
                <td>Fecha Emicion</td>
                <td>Fecha Vencimiento</td>
                <td>Acciones</td>
              </tr>
            </thead>
            <tbody class="text-center">
              <% certificados.forEach(certificado=> { %>
                <tr>
                  <td>
                    <%= certificado.id_Certificado %>
                  </td>
                  <td>
                    <%= certificado.TipoDocumento %>
                  </td>
                  <td>
                    <%= certificado.Documento %>
                  </td>
                  <td>
                    <%= certificado.NombreCompleto %>
                  </td>
                  <td>
                    <%= certificado.Nacionalidad %>
                  </td>
                  <td>
                    <%= certificado.nCertificado %>
                  </td>
                  <td>
                    <%= certificado.Codigo %>
                  </td>
                  <td>
                    <%= formatDate(certificado.FechaEmicion) %>
                  </td>
                  <td>
                    <%= formatDate(certificado.FechaVencimiento) %>
                  </td>
                  <td>
                    <button class="btn btn-danger delete-btn" data-certificado-id="<%= certificado.id_Certificado %>">
                      <i class="bi bi-trash"></i> Eliminar
                    </button>
                  </td>
                </tr>
                <% }); %>
            </tbody>
          </table>
          <nav aria-label="Page navigation example">
            <ul class="pagination mb-5">
              <li class="page-item <%= page == 1 ? 'disabled' : '' %>">
                <a class="page-link" href="/admin/Admistrador?page=<%= page - 1 %>" aria-label="Previous">
                  <span aria-hidden="true">&laquo;</span>
                </a>
              </li>
              <% for (let i=1; i <=totalPages; i++) { %>
                <li class="page-item <%= i === page ? 'active' : '' %>">
                  <a class="page-link" href="/admin/Admistrador?page=<%= i %>">
                    <%= i %>
                  </a>
                </li>
                <% } %>
                  <li class="page-item <%= page == totalPages ? 'disabled' : '' %>">
                    <a class="page-link" href="/admin/Admistrador?page=<%= page + 1 %>" aria-label="Next">
                      <span aria-hidden="true">&raquo;</span>
                    </a>
                  </li>
            </ul>
          </nav>

        </div>

      </div>
    </div>
  </section>

  
  
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="/js/delete.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@10"></script>
  <script src="/js/alertas_admin.js"></script>
</body>

</html>